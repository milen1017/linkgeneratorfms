<!DOCTYPE html>
<html>
<head>
    <title>Fms ne e support</title>
    <style>
        body {
            background-color: #39383F;
            color: white;
            font-family: Arial, sans-serif;
        }

        input[type="text"], input[type="number"] {
            background-color: #2c2f33;
            border: none;
            color: white;
            padding: 5px 10px; 
        }

        button {
            background-color:#7289da; 
            border:none; 
            color:white;
            padding :10px 20px; 
            cursor:pointer; 
         }

         button:hover { 
           background-color:#5b6eae; 
         }

         #linksBox { 
           border :1px solid #99aab5; 
           padding :10px; max-height :200px; overflow-y:auto; } 

           #bottom-right { position :fixed; bottom :0; right :0;} 
        
        #bottom-right {
          height: 50px;
        }
        
        #buttons {
          display:flex;
        }
        #buttons button {
          margin:0 5px;
        }
    </style>
</head>
<body>
    <label for="textInput"> Soccerway link:</label><br> <input type="text" id="textInput"><br><br>

    <label for="roundCount">Number of Rounds:</label><br> <input type="number" id="roundCount"><br><br>

   <div id = "buttons">
      <button onclick = "generateLinks()">Generate Links</button> 

      <button onclick = "copyLinks()" id = "copyButton" style = "display:none;">Copy Links</button> 

      <button id = "refreshButton" onclick = "location.reload()" style = "background-color:#7289da;border:none;color:white;padding:10px 20px;cursor:pointer;display:none;">Clear</button>

   </div>

<br><br>

<div id = "linksBox">
<ul id = "links"></ul> </div>


<img id = "bottom-right" src = "https://media.tenor.com/F8O0aa8qG80AAAAd/salami-rubbing-meat.gif"> 


<script>
function generateLinks() {
    var textInput = document.getElementById("textInput").value;
    var roundCount = document.getElementById("roundCount").value;
    var regex = /page%22%3A[0-9]+%7D/;
    
    if (regex.test(textInput)) {
      for (var i = 0; i <= roundCount - 1; i++) {
          var link = textInput.replace(regex, "page%22%3A" + i + "%7D");
          // add link to page
          var node = document.createElement("LI");
          var textnode = document.createTextNode(link);
          node.appendChild(textnode);
          document.getElementById("links").appendChild(node);
      }
      document.getElementById("copyButton").style.display ="block";
      document.getElementById("refreshButton").style.display = "inline-block";

      
      } else {
      // handle invalid input
      alert('греда');
     }
}

function copyLinks() {
   let linksList= Array.from(document.querySelectorAll('#links li')).map(el => el.textContent).join('\n');
   navigator.clipboard.writeText(linksList);
}
</script>

</body>
</html>
